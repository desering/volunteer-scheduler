---
import { actions } from "astro:actions";
import { Container } from "styled-system/jsx";
import { EventOverview } from "~/components/event-overview";
import NavBar from "~/components/navbar.astro";
import Layout from "../layouts/layout.astro";

const eventsByDay = await Astro.callAction(actions.getEventsByDay, {});
---

<Layout title="Volunteering Schedule">
  <Container
    marginTop={{ base: 4, xl: 20 }}
    display="flex"
    minHeight="screen"
    flexDir="column"
    gap="10"
  >
    <NavBar />
    <EventOverview
      user={Astro.locals.user}
      events={eventsByDay.data}
      client:load
      flex="1"
    />
  </Container>
</Layout>
